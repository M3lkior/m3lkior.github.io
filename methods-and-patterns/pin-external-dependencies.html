<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><link rel="icon" href="https://m3lkior.github.io/favicon.ico"><meta name="theme-color" content="#000000"><meta name="description" content="AOE Technology Radar"><link rel="apple-touch-icon" href="https://m3lkior.github.io/logo.svg"><link rel="stylesheet" href="https://m3lkior.github.io/fonts.css"><link rel="stylesheet" href="https://m3lkior.github.io/styles.css"><meta property="og:title" content="AOE Technology Radar"><meta property="og:image" content="https://m3lkior.github.io/logo.svg"><meta name="format-detection" content="telephone=no"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Pin external dependencies | AOE Technology Radar</title><script defer="defer" src="https://m3lkior.github.io/static/js/main.8a7fe4c2.js"></script><link href="https://m3lkior.github.io/static/css/main.1d9f1f3b.css" rel="stylesheet"></head><body><div id="root"><h1>Pin external dependencies</h1><div><p>A lot of applications have dependencies on other modules or components. We have
used different approaches regarding how and when these dependencies are resolved
and have agreed on using a method we call "Pin (External) dependencies".</p>
<p>This is especially relevant for script languages, where the dependency
management references the code and not immutable prebuild binaries - and
therefore resolves the complete transient dependencies on the fly.</p>
<p>Most of these package- or dependency management solutions support two artefacts:</p>
<ul>
<li>a semantic dependency definition. This defines the compatible versions of the
required dependencies. (Composer: composer.json / npm: package.json)</li>
<li>a lock file defining the exact revisions of the dependencies and the transient
dependencies (dependencies of dependencies). This is created after running the
tool. (Composer: composer.lock / npm: npm-shrinkwrap.json / yarn: yarn.lock).</li>
</ul>
<p>We suggest the following:</p>
<ul>
<li>Keep the dependency definition AND the lock file in version control. This
ensures that chained dependencies are also locked and you have changes of that
file visible in your version control commit history. This helps finding issues
or bugs that might relate to unintended updates in external modules or
transient dependencies.</li>
<li>Build Step: The application build step should use the the pinned versions
(with the help of the lock file) to ensure that the same revisions of the
dependent packages are used.</li>
<li>It's also suggested to use local or central caches for the retrieval of
packages. (E.g.
<a target="_blank" rel="noopener noreferrer" href="https://m3lkior.github.io/platforms-and-aoe-services/artifactory.html">artifactory as composer and npm cache</a>)</li>
</ul>
<p>For updating of dependencies define a process in the team. This can either be
done on the dev-system or in a separate automated CI job - both resulting in
updated dependency definitions in the applications VCS.</p>
</div></div></body></html>